<tbody>
    <tr>
        <% ["username", "building", "email", "role"].each do |ele| %>
            <th><%= link_to ele.capitalize, users_path(:format => :js, :sort => ele), remote: true, class: selected?(ele) %></th>
        <% end %>
        <th>Edit</th>
        <th>Delete</th>
    </tr>
    <tr>
        <%= form_for :user, :url => mass_create_path do |f| %>
        <td>
            <%= f.text_area :username, autofocus: true %>
        </td>

        <td>
            <%= f.select :building, current_user.buildings %>
        </td>

        <td>
            <%= f.text_area :email, autofocus: true %>
        </td>

        <td>
            User
        </td>

        <td>
            <%= f.text_field :redirect, :value => users_path, :style => "display:none;" %>
            <%= f.submit "Add" %>
        </td>
        
        <td>
        </td>
        <% end %>
    </tr>
    <% @users.each do |user| %>
        <tr>
            <td><%= user.username %></td>
            <td><%= user.building %></td>
            <td><%= user.email %></td>
            <td><%= user.role %></td>
            <td>
                <%= form_tag edit_user_path(user), :method => :get do |f| %>
                    <%= submit_tag "Edit", :id => "#{user.username}_edit" %>
                <% end %>
            <td>
                <%= form_tag revoke_path(user), :method => "delete" do %>
                    <%= submit_tag "Delete", :id => "#{user.username}_delete", :data => { :confirm => "Are you sure you want to delete this member?" } %>
                <% end %>
            </td>
        </tr>
    <% end %>
</tbody>